"use strict";(self.webpackChunkconfai_react=self.webpackChunkconfai_react||[]).push([[484],{95484:function(e,s,t){t.r(s),t.d(s,{default:function(){return g}});var n=t(29439),l=t(24118),a=t(47313),r=t(44030),i=t(63849),c=t(65832),d=t(93298),h=t(62396),o=t(87881),m=t(58467),u=t(36659),x=t.n(u),j=t(46417),f=function(e){var s=e.symbol,t=(0,a.useRef)(null);return(0,a.useEffect)((function(){if(t.current){var e=document.createElement("script");return e.src="https://s3.tradingview.com/external-embedding/embed-widget-financials.js",e.async=!0,e.innerHTML=JSON.stringify({isTransparent:!1,largeChartUrl:"",displayMode:"regular",width:"100%",height:"100%",colorTheme:"light",symbol:s,locale:"en"}),t.current.appendChild(e),function(){t.current.innerHTML=""}}}),[s]),(0,j.jsxs)("div",{className:"card mb-4",style:{height:"1000px"},children:[(0,j.jsx)("div",{className:"card-header",children:(0,j.jsx)("h2",{className:"card-title",children:"Financials"})}),(0,j.jsx)("div",{className:"card-body",children:(0,j.jsxs)("div",{className:"tradingview-widget-container",ref:t,children:[(0,j.jsx)("div",{id:"tradingview-widget-container__widget"}),(0,j.jsx)("div",{className:"tradingview-widget-copyright",children:(0,j.jsx)("a",{href:"https://www.tradingview.com/?utm_source=localhost&utm_medium=widget_new&utm_campaign=chart&utm_term=STZ",rel:"noreferrer",target:"_blank",children:(0,j.jsx)("span",{className:"blue-text",children:"Track all markets on TradingView"})})})]})})]})},g=function(){var e=(0,a.useState)(!1),s=(0,n.Z)(e,2),t=s[0],g=s[1],p=(0,a.useState)(null),_=(0,n.Z)(p,2),v=_[0],b=_[1],w=(0,a.useState)(!0),y=(0,n.Z)(w,2),Z=y[0],N=y[1],T=(0,m.UO)().ticker_symbol;return(0,a.useEffect)((function(){l.Z.get("https://confai-web-app.azurewebsites.net/api/symbol/".concat(T,"/?format=json")).then((function(e){console.log(e),b(e.data),N(!1)})).catch((function(e){console.error("There was an error fetching the data!",e),N(!1)}))}),[T]),Z||!v?(0,j.jsx)("div",{className:"d-flex justify-content-center align-items-center",style:{height:"100vh"},children:(0,j.jsx)(r.Z,{animation:"border",role:"status",children:(0,j.jsx)("span",{className:"sr-only",children:"Loading..."})})}):(console.log(T),(0,j.jsx)(a.Fragment,{children:(0,j.jsxs)(i.Z,{children:[(0,j.jsx)("h5",{children:v.symbol}),(0,j.jsxs)(c.Z,{children:[(0,j.jsx)(c.Z.Header,{children:(0,j.jsx)(c.Z.Title,{as:"h5",children:"Latest Call"})}),(0,j.jsxs)(c.Z.Body,{children:[(0,j.jsxs)("h5",{children:["Year: ",v.latest_call_info.year]}),(0,j.jsxs)("h5",{children:["Quarter: ",v.latest_call_info.quarter]}),(0,j.jsxs)("h5",{children:["Date: ",v.latest_call_info.date]}),(0,j.jsxs)("h5",{children:["Weighted Average Sentiment: ",v.latest_call_info.weighted_average_sentiment.toFixed(2)]}),(0,j.jsx)("hr",{}),(0,j.jsx)("h4",{children:"Negative Sentences"}),v.latest_call_info.negative_sentences.map((function(e,s){return(0,j.jsx)("ul",{className:"mt-3",children:(0,j.jsxs)("li",{children:[parseFloat(e[0]).toFixed(2),": ",e[1]]})},s)})),(0,j.jsx)("hr",{}),(0,j.jsx)("h4",{children:"Positive Sentences"}),v.latest_call_info.positive_sentences.map((function(e,s){return(0,j.jsx)("ul",{className:"mt-3",children:(0,j.jsxs)("li",{children:[parseFloat(e[0]).toFixed(2),": ",e[1]]})},s)})),(0,j.jsx)("h4",{children:"Summary"}),(0,j.jsx)("p",{children:v.latest_call_info.summary}),(0,j.jsx)("h4",{children:"Full Text"}),(0,j.jsx)("div",{children:(0,j.jsx)(d.Z,{onClick:function(){return g(!t)},children:"Collapse"})}),(0,j.jsx)(h.Z,{in:t,children:(0,j.jsx)("div",{id:"basic-collapse",children:(0,j.jsx)(c.Z.Body,{children:(0,j.jsxs)(c.Z.Text,{children:["full_text",v.latest_call_info.full_text]})})})})]})]}),(0,j.jsxs)(c.Z,{children:[(0,j.jsxs)("div",{style:{height:"600px"},className:"p-5",children:[(0,j.jsx)("div",{className:"card-header",children:(0,j.jsx)("h2",{className:"card-title",children:"Stock Chart"})}),(0,j.jsx)(x(),{locale:"en",autosize:!0,interval:"D",timezone:"Etc/UTC",theme:u.Themes.LIGHT,style:"3",enable_publishing:"false",range:"5D",backgroundColor:"rgba(242, 242, 242, 1)",allow_symbol_change:"true",calendar:"false",support_host:"https://www.tradingview.com",symbol:T})]}),(0,j.jsx)("div",{className:"p-5",children:(0,j.jsx)(f,{symbol:T})})]}),v.news.map((function(e,s){return(0,j.jsx)(c.Z,{className:"mb-3",children:(0,j.jsxs)(c.Z.Body,{children:[(0,j.jsx)(c.Z.Title,{as:"h3",children:e.title}),(0,j.jsx)(o.Z,{className:"py-3 rounded-sm",src:e.image,fluid:!0}),(0,j.jsxs)(c.Z.Subtitle,{className:"mb-2 text-muted",children:["Published on: ",e.publishedDate]}),(0,j.jsx)(c.Z.Text,{children:e.text}),(0,j.jsx)("a",{href:e.url,target:"_blank",rel:"noopener noreferrer",children:"Read more"}),(0,j.jsx)("div",{className:"mt-2",children:(0,j.jsxs)("small",{children:["Source: ",e.site]})})]})},s)}))]})}))}}}]);