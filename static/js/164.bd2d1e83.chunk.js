"use strict";(self.webpackChunkdatta_able_free_react_admin_template=self.webpackChunkdatta_able_free_react_admin_template||[]).push([[164],{4164:(e,t,s)=>{s.r(t),s.d(t,{default:()=>m});var r=s(8475),n=s(7313),a=s(3849),c=s(1616),l=s(8128),d=s(8401),i=s(4030),h=s(465),o=s(8804),x=s(32),j=s(6417);const m=()=>{const[e,t]=(0,n.useState)([]),[s,m]=(0,n.useState)(!0),[u,y]=(0,n.useState)(1),[Z,p]=(0,n.useState)("date");(0,n.useEffect)((()=>{m(!0),r.Z.get("https://confai-web-app.azurewebsites.net/api/all_calls/?format=json&page=".concat(u)).then((e=>{t(_(e.data,Z)),m(!1)})).catch((e=>{console.error("There was an error fetching the data!",e),m(!1)}))}),[u,Z]);const _=(e,t)=>{switch(t){case"score":return[...e].sort(((e,t)=>t.weighted_average_sentiment-e.weighted_average_sentiment));case"date":return[...e].sort(((e,t)=>new Date(t.date)-new Date(e.date)));case"name":return[...e].sort(((e,t)=>e.symbol.localeCompare(t.symbol)));default:return e}};return(0,j.jsx)(n.Fragment,{children:(0,j.jsx)(a.Z,{children:(0,j.jsx)(c.Z,{children:(0,j.jsxs)(l.Z,{children:[(0,j.jsxs)(l.Z.Header,{children:[(0,j.jsx)(l.Z.Title,{as:"h5",children:"All Calls"}),(0,j.jsxs)(d.Z,{onSelect:e=>{p(e)},children:[(0,j.jsx)(d.Z.Toggle,{variant:"link",id:"dropdown-basic",children:"Sort by"}),(0,j.jsxs)(d.Z.Menu,{children:[(0,j.jsx)(d.Z.Item,{eventKey:"score",children:"Score"}),(0,j.jsx)(d.Z.Item,{eventKey:"date",children:"Date"}),(0,j.jsx)(d.Z.Item,{eventKey:"name",children:"Name"})]})]})]}),s?(0,j.jsx)("div",{className:"d-flex justify-content-center align-items-center",style:{height:"100vh"},children:(0,j.jsx)(i.Z,{animation:"border",role:"status",children:(0,j.jsx)("span",{className:"sr-only",children:"Loading..."})})}):(0,j.jsxs)(l.Z.Body,{children:[(0,j.jsxs)(h.Z,{responsive:!0,children:[(0,j.jsx)("thead",{children:(0,j.jsxs)("tr",{children:[(0,j.jsx)("th",{children:"#"}),(0,j.jsx)("th",{children:"Symbol"}),(0,j.jsx)("th",{children:"Year"}),(0,j.jsx)("th",{children:"Quarter"}),(0,j.jsx)("th",{children:"Date"}),(0,j.jsx)("th",{children:"Sentiment"}),(0,j.jsx)("th",{children:"Summary"})]})}),(0,j.jsx)("tbody",{children:e.map(((e,t)=>(0,j.jsxs)("tr",{children:[(0,j.jsx)("th",{scope:"row",children:t+1+10*(u-1)})," ",(0,j.jsx)("td",{children:(0,j.jsx)(x.rU,{to:"/call-detail/".concat(e.symbol,"/").concat(e.year,"/").concat(e.quarter,"/"),children:e.symbol})}),(0,j.jsx)("td",{children:e.year}),(0,j.jsx)("td",{children:e.quarter}),(0,j.jsx)("td",{children:e.date}),(0,j.jsx)("td",{children:e.weighted_average_sentiment.toFixed(2)}),(0,j.jsx)("td",{style:{width:"4px"},children:"".concat(e.summary.slice(0,30),"...")})]},t)))})]}),(0,j.jsxs)(o.Z,{children:[(0,j.jsx)(o.Z.First,{onClick:()=>{y(u-1)},disabled:1===u}),(0,j.jsx)(o.Z.Item,{children:u}),(0,j.jsx)(o.Z.Next,{onClick:()=>{y(u+1)}})]})]})]})})})})}}}]);